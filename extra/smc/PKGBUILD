# $Id: PKGBUILD 43262 2009-06-21 02:49:07Z kevin $
# Maintainer: Juergen Hoetzel <juergen@archlinux.org>
# Contributor: Kritoke <typeolinux@yahoo.com>

pkgname=smc
replaces=('smclone')
conflicts=('smclone')
pkgver=1.8
pkgrel=2
pkgdesc="Secret Maryo Chronicles"
arch=(i586 i686 x86_64)
url="http://www.secretmaryo.org/"
license=('GPL3')
makedepends=(autoconf automake)
depends=(sdl_image sdl_ttf sdl_mixer cegui 'boost>=1.37.0' libpng)
source=(http://downloads.sourceforge.net/sourceforge/smclone/$pkgname-$pkgver.tar.bz2 smc.desktop smc.png
        http://downloads.sourceforge.net/sourceforge/smclone/SMC_music_4.0_high.zip)

build() {
  cd $startdir/src/$pkgname-$pkgver
  ./autogen.sh || return 1
  ./configure --prefix=/usr || return 1
  make install LDADD=-lpng DESTDIR=$startdir/pkg || return 1
  # install some freedesktop.org compatibility
  install -D -m644 $startdir/src/$pkgname.desktop $startdir/pkg/usr/share/applications/$pkgname.desktop
  install -D -m644 $startdir/src/$pkgname.png $startdir/pkg/usr/share/pixmaps/$pkgname.png

  cp -R $startdir/src/data/music $startdir/pkg/usr/share/smc/
}

md5sums=('448efe236ae6031dcf08761496d469ad'
         '80fe208132ff41dd7677a53ee429ecdb'
         'efca7580e28748625eb676c9d24ee122'
         'bb007603c723eddd6ccb007cc5f01cd6')
