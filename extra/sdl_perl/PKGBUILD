# $Id: PKGBUILD 50400 2009-08-26 07:14:09Z allan $
# Maintainer: Allan McRae <allan@archlinux.org>
# Contributor: Sarah Hay <sarahhay@mb.sympatico.ca>

pkgname=sdl_perl
_realname=SDL_Perl
pkgver=2.2.1.8
pkgrel=1
pkgdesc="A Perl wrapper for SDL"
arch=('i586' 'i686' 'x86_64')
license=('LGPL')
url="http://sdl.perl.org"
depends=('perl>=5.10.0' 'sdl_net' 'sdl_ttf' 'sdl_image' 'sdl_mixer' 'mesa'
         'sdl_gfx>=2.0.19' 'smpeg')
makedepends=('perl-yaml')
options=(!emptydirs)
source=(http://search.cpan.org/CPAN/authors/id/K/KT/KTHAKORE/${_realname}-v${pkgver}.tar.gz)
md5sums=('067f5a58278d6bcc62db2e98507b399e')

build() {
  cd ${srcdir}/${_realname}-v${pkgver}
  # install module in vendor directories
  perl Build.PL installdirs=vendor destdir=${pkgdir} \
                --config man1ext=1p --config man3ext=3pm
  perl Build
  perl Build install

  # Fix bad location of libraries.
  #cd ${pkgdir}/usr/lib/perl5/vendor_perl
  #mv -f auto/src/SDL* auto
  #rmdir auto/src
}
